{
  "version": 2,
  "builds": [
    { "src": "client-side/vite.config.js", "use": "@vercel/static-build", "config": { "distDir": "client-side/dist" } }
  ],
  "env": {
    "NODE_ENV": "production"
  },
  "buildCommand": "cd client-side && npm install && npm run build",
  "outputDirectory": "client-side/dist",
  "routes": [
    { "src": "/(.*)\\.(js|css|png|jpg|jpeg|gif|svg|webp|ico|txt|json|woff2?)", "headers": { "Cache-Control": "public, max-age=31536000, immutable" } },
    { "src": "/(dashboard|main|signin|signup|content/.*)", "dest": "/client-side/index.html" },
    { "src": "/", "dest": "/client-side/index.html" },
    { "src": "/.*", "dest": "/client-side/index.html" }
  ]
}
